import React, { useState } from 'react';
import '../components/css/displayMap.css';
import image1 from '../public/images/MapSectionImages/transmissionLine.png'
import image2 from '../public/images/MapSectionImages/opticalFiber.png'
import image3 from '../public/images/MapSectionImages/GSS.png'
import image4 from '../public/images/MapSectionImages/transformer.png'
import image5 from '../public/images/MapSectionImages/TAFM.png'

const districts = [
   { name: 'Pashchim Champaran', groupId: 'Muzaffarpur Zone', x: 150, y: 100, points: '94,50, 99,52, 106,49, 108,52, 108,54, 104,59, 105,62, 112,65, 118,75, 110,85, 112,92 ,123,86, 124,88 ,124,92 ,119,94, 125,98 ,126,98 ,126,102 ,128,106, 126,109, 127,112, 125,115, 128,118 ,128,123 ,134,125, 137,122, 142,124, 141,131 ,146,134, 150,128 ,157,125 ,160,132 ,159,141 ,156,146, 158,151, 167,146, 171,154 ,171,158 ,184,159, 185,167 ,183,175, 184,175, 186,171, 190,167 ,196,171 ,200,171 ,200,165 ,204,162, 212,159, 212,156, 220,156 ,218,156, 219,159, 222,158, 227,151, 229,148 ,231,146 ,229,141 ,231,138, 234,136, 234,135, 231,132, 233,131 ,231,130 ,229,130 ,224,120 ,225,115, 227,113, 234,111 ,235,107, 235,100 ,218,96 ,221,89, 224,67 ,223,61, 214,44 ,174,40 ,161,37, 158,29 ,155,28 ,151,29, 148,24, 142,20, 141,17, 140,16 ,133,16, 131,20 ,124,29 ,100,28, 95,28, 94,34, 102,39, 101,42, 98,44', hoverText: 'Pashchim Champaran' },
   { name: 'Purba Champaran', groupId: 'Muzaffarpur Zone', x: 200, y: 150, points: '211,199,210,190,204,192,204,188,199,182,199,176,196,176,195,171,200,171,200,165,204,162,212,159,212,156,219,156,219,156,219,159,222,158,227,151,229,148,231,146,229,142,229,138,234,137,234,135,231,131,231,131,233,131,231,130,229,130,224,120,227,113,235,111,235,107,235,100,239,99,241,102,242,102,247,98,252,106,259,107,267,108,270,111,269,115,269,115,272,116,276,122,282,120,282,122,278,124,278,128,281,128,283,129,288,124,301,124,302,124,302,126,302,128,301,136,303,140,305,142,312,143,314,146,313,154,311,158,310,159,314,159,316,163,316,167,311,176,309,182,309,187,303,187,302,190,310,199,318,206,319,206,319,212,316,212,313,210,310,209,308,210,308,212,313,212,314,214,315,217,314,219,313,219,313,221,308,221,307,222,303,214,297,219,291,219,283,214,279,217,274,215,270,217,260,217,257,226,256,230,250,224,246,226,244,217,238,214,229,199,221,194,218,196,214,199', hoverText: 'Purba Champaran' },
   { name: 'Sheohar', groupId: 'Muzaffarpur Zone', x: 250, y: 120, points: '329,186,331,193,333,201,330,209,332,211,332,214,327,214,326,216,325,216,325,214,319,212,319,206,317,205,302,190,303,187,309,187,309,182,311,176,316,167,316,163,318,162,323,161,327,162,329,163,329,167,329,171,329,173,333,175,332,178,330,179,334,180,334,182,333,187,330,187' , hoverText: 'Sheohar' },
   { name: 'Muzaffarpur',groupId: 'Muzaffarpur Zone', x: 280, y: 220, points: '389,244,390,245,390,248,388,250,386,252,385,255,384,261,383,263,372,272,373,282,374,284,372,286,370,284,366,284,363,284,361,288,360,288,359,286,357,286,354,288,353,288,351,284,348,284,347,286,343,284,340,282,335,284,327,281,324,282,320,282,321,273,316,270,312,272,300,271,296,273,293,273,289,277,276,271,272,275,267,271,266,267,266,264,268,262,267,255,262,248,263,244,259,237,261,233,257,233,256,230,257,224,260,217,270,217,274,215,279,217,283,214,291,219,297,219,303,214,307,222,308,221,313,221,313,219,315,217,314,214,313,212,308,212,308,209,308,210,310,209,313,210,316,212,319,212,325,214,325,216,326,216,327,214,332,214,333,219,333,219,335,219,337,216,338,217,338,219,338,219,336,222,338,224,340,223,341,224,343,224,353,206,359,209,364,203,364,210,369,212,369,214,372,214,372,217,381,216,383,217,384,222,384,223,384,224,383,226,383,226,385,228,382,230,383,233,385,235,387,237,387,241,387,242' , hoverText: 'Muzaffarpur' },
   { name: 'Vaishali',groupId: 'Muzaffarpur Zone', x: 240, y: 260, points: '372,292,370,293,370,297,371,302,370,306,372,310,372,313,372,318,370,322,364,325,363,334,362,336,359,339,362,346,363,350,357,350,353,350,348,355,343,357,338,356,327,355,315,339,307,331,307,322,303,313,302,300,292,295,294,292,294,286,287,284,289,277,293,273,298,272,300,271,312,272,316,270,321,273,320,282,327,281,335,284,340,282,343,284,347,286,348,284,351,284,354,288,357,286,359,286,360,288,361,288,363,284,366,284,370,284,372,286,374,284,374,286,373,288', hoverText: 'Vaishali'  },
   { name: 'Saran',groupId: 'Muzaffarpur Zone', x: 200, y: 300, points: '210,302,218,308,219,309,216,313,220,318,218,322,219,324,225,324,225,315,225,315,233,319,234,322,238,322,244,327,249,325,254,324,254,324,254,325,257,322,268,324,276,319,280,325,283,327,288,325,291,327,294,334,299,334,300,339,305,339,311,340,312,340,315,339,307,331,307,322,307,322,303,313,302,300,292,295,294,292,294,286,287,284,289,277,276,271,272,275,267,271,266,264,268,262,267,255,262,248,263,244,259,237,258,237,246,237,240,237,243,244,239,244,239,248,238,249,235,249,234,252,231,252,231,259,227,261,221,261,218,260,217,258,217,258,216,263,215,262,213,261,212,263,212,267,206,269,196,270,195,270,188,270,188,264,187,266,186,267,185,270,188,273,188,275,188,275,192,275,192,277,190,279,191,282,193,282,193,293,198,293,202,297,204,296,206,297,204,297,206,304,209,302', hoverText: 'Saran'  },
   { name: 'Siwan', groupId: 'Muzaffarpur Zone', x: 160, y: 340, points: '163,222,171,219,174,224,178,224,177,214,179,211,182,211,182,212,185,212,185,212,191,211,192,214,197,217,202,216,204,219,204,222,204,223,208,219,210,219,214,222,222,222,222,226,227,228,225,233,231,233,235,235,237,235,240,237,243,244,239,244,239,248,238,249,235,249,234,252,231,252,231,259,227,261,221,261,218,260,217,258,216,263,213,261,212,263,212,267,206,269,192,270,188,270,188,264,186,267,185,270,188,273,188,275,192,275,192,277,190,279,191,282,193,282,193,293,188,293,187,288,185,284,181,284,177,282,170,282,167,282,159,279,158,275,151,275,148,275,149,269,143,264,137,258,130,258,130,253,126,250,127,248,123,246,123,242,127,241,125,237,123,237,127,235,131,237,134,237,142,230,147,233,150,221,148,215,149,212,153,214,153,214,154,216,154,216,159,219', hoverText: 'Siwan'  },
   { name: 'Gopalganj', groupId: 'Muzaffarpur Zone', x: 120, y: 380, points: '178,170,169,170,163,173,148,169,142,167,135,167,135,171,130,178,128,182,123,186,118,184,115,188,114,188,112,186,107,188,108,199,112,201,119,201,123,199,128,205,133,210,137,209,146,211,149,212,149,212,153,214,154,216,163,222,171,219,174,224,178,224,177,214,179,211,182,211,182,211,182,212,185,212,185,212,191,211,192,214,197,217,202,216,204,219,204,222,204,223,208,219,210,219,215,222,222,222,222,226,227,228,225,233,231,233,235,235,237,235,240,237,248,237,258,237,259,237,261,233,257,233,256,230,250,224,246,226,244,217,238,214,229,199,221,194,218,196,214,199,211,199,210,190,204,192,204,188,198,182,199,176,196,176,195,171,196,171,190,167,186,171,184,175,183,175,185,167,184,167,182,169' , hoverText: 'Gopalganj' },
   { name: 'Samastipur',groupId: 'Muzaffarpur Zone', x: 1320, y: 1200, points: '426,277,428,282,429,280,436,280,438,284,443,286,444,286,446,284,449,288,450,286,455,288,455,291,457,288,467,288,465,300,465,304,465,306,469,306,471,312,475,309,476,309,480,313,488,313,491,317,491,318,488,318,484,322,480,327,476,327,474,330,470,329,461,327,459,318,457,317,455,318,454,318,454,316,455,315,454,309,449,308,446,309,447,310,451,313,451,315,446,313,444,313,444,316,443,316,438,315,438,318,434,316,432,318,432,319,434,321,434,322,430,324,430,327,434,327,434,330,432,336,428,335,423,329,419,329,418,331,412,331,413,327,411,327,409,331,407,331,404,335,407,336,409,343,403,343,399,340,396,340,395,343,392,346,392,350,388,352,383,359,382,356,378,356,377,357,377,359,376,363,376,364,375,364,370,361,372,359,372,357,367,357,362,361,361,357,362,356,366,355,366,353,365,352,362,352,361,356,359,356,360,353,359,350,363,350,361,343,359,339,362,336,363,334,364,325,370,322,372,318,372,310,370,306,371,302,370,297,370,293,372,292,373,288,374,286,374,284,373,282,372,272,383,263,384,261,385,256,387,256,387,264,391,264,393,263,397,266,405,266,408,269,409,273,413,273,413,273,416,273,417,277,423,277,425,277' , hoverText: 'Samastipur'},
  { name: 'Sitamarhi', groupId: 'Muzaffarpur Zone', x: 220, y: 180, points: '353,206,346,219,343,224,341,224,340,223,338,224,337,224,336,222,338,219,338,217,337,216,335,219,333,219,332,214,332,211,330,209,333,201,329,186,330,187,333,187,334,182,334,180,330,179,332,178,333,175,329,173,329,163,327,162,323,161,318,162,316,163,314,159,310,159,311,158,313,154,314,144,319,144,322,144,329,143,338,137,343,137,358,129,362,125,368,124,370,123,372,125,381,128,384,132,386,136,385,156,388,159,389,162,396,165,399,167,398,176,401,178,397,184,394,182,391,187,395,188,398,188,400,190,398,190,396,192,390,190,389,190,393,194,393,196,392,197,389,197,384,194,383,197,381,201,381,203,381,206,383,209,383,210,378,210,379,212,382,212,383,211,385,211,387,212,388,214,387,216,383,217,381,216,380,216,372,217,372,214,369,214,369,212,366,211,364,210,364,208,364,203,359,209' , hoverText: 'Sitamarhi' },
   
  { name: 'Kaimur', groupId: 'Patna Zone', x: 960, y: 840, points: '45,398,42,403,38,403,33,406,30,411,24,413,25,422,26,426,23,429,22,435,21,439,20,442,24,444,25,453,27,457,25,463,27,467,26,469,28,470,32,479,32,484,35,483,41,492,46,490,46,496,52,499,49,503,49,505,55,510,52,514,53,518,52,522,67,524,72,522,77,523,83,518,83,512,85,508,83,501,91,490,92,485,90,480,83,479,83,470,84,470,87,467,89,461,94,454,95,451,98,446,98,435,95,425,97,422,96,416,94,411,94,411,97,407,102,403,98,401,99,397,101,395,105,393,93,381,89,384,89,380,89,379,84,376,82,380,78,379,79,381,77,383,74,381,74,384,72,384,68,389,64,390,61,390,57,394,54,394,49,398', hoverText: 'Kaimur' },
  { name: 'Buxar',groupId: 'Patna Zone', x: 1000, y: 880, points: '157,384,151,383,148,383,145,381,144,384,139,384,130,383,131,386,129,387,132,393,128,399,122,399,114,397,108,395,105,393,93,381,89,384,89,380,94,376,94,372,98,372,100,370,95,368,96,365,99,367,101,365,105,357,109,355,110,350,114,350,128,339,136,338,136,333,135,327,137,324,145,321,150,322,153,325,155,331,165,333,168,331,172,330,173,330,173,318,174,318,179,318,183,317,184,321,182,319,183,319,179,327,178,330,175,329,176,333,176,336,177,340,177,342,175,343,175,349,174,352,175,357,177,359,177,361,179,365,177,370,172,372,171,377,168,379,167,385,159,386,157,385' , hoverText: 'Buxar'},
  { name: 'Bhojpur',groupId: 'Patna Zone', x: 880, y: 760, points: '171,389,175,392,175,407,174,410,178,411,189,411,195,416,202,411,217,407,222,403,227,394,229,392,231,390,236,386,238,379,244,368,240,361,240,356,242,352,249,346,249,336,252,333,250,329,254,327,254,324,249,325,244,327,238,322,234,322,233,319,225,315,225,324,221,324,219,324,216,318,209,318,210,330,206,327,206,321,204,322,204,330,198,329,196,327,195,327,194,322,190,324,190,327,186,325,186,322,183,319,179,327,178,330,175,329,176,333,176,336,177,340,177,342,175,343,175,349,174,352,175,357,177,359,177,363,179,365,178,368,177,370,172,372,171,377,168,379,167,385,167,389,168,389', hoverText: 'Bhojpur' },
  { name: 'Patna',groupId: 'Patna Zone', x: 840, y: 720, points: '375,385,377,381,375,377,371,376,368,376,367,369,365,368,360,369,353,367,344,365,340,364,338,368,335,369,334,372,326,374,323,374,318,374,317,372,316,372,315,374,307,374,306,376,308,379,306,390,299,389,297,393,296,397,294,394,292,394,286,394,288,394,282,398,281,397,283,394,280,394,281,389,278,389,277,392,276,394,271,393,269,397,266,398,267,394,261,395,261,401,257,404,254,403,249,407,242,406,237,410,236,407,237,406,240,403,246,403,246,401,238,398,237,399,237,402,234,399,229,401,229,398,236,395,231,390,236,386,238,379,244,368,240,361,240,357,242,352,249,346,249,336,252,333,250,329,254,327,254,325,257,322,262,322,268,324,276,319,280,325,283,327,288,325,291,327,294,334,299,334,300,339,305,339,311,340,312,340,315,339,327,355,338,356,343,357,348,355,353,350,359,350,360,353,359,356,361,356,362,352,365,352,366,353,366,355,362,356,361,357,362,361,367,357,372,357,372,359,370,361,375,364,376,363,377,359,377,357,378,356,382,356,383,359,388,352,393,349,401,347,409,353,413,356,415,356,416,361,412,361,413,368,416,368,419,368,424,369,428,372,434,379,438,377,437,374,440,374,443,381,438,383,436,389,426,386,422,385,421,389,416,390,415,393,411,390,404,390,401,387,393,386,389,380,386,379,385,380,384,383,381,383,380,385,380,387,378,387', hoverText: 'Patna' },
 
  { name: 'Aurangabad',groupId: 'Gaya Zone', x: 1040, y: 920, points: '194,517,195,525,198,523,202,526,211,524,214,520,215,518,213,518,213,516,216,514,218,512,219,501,224,503,224,498,227,496,231,498,233,497,234,494,237,493,238,485,235,484,236,483,239,483,239,479,234,478,231,472,227,470,227,469,224,467,223,466,225,463,227,466,227,466,227,463,227,461,233,460,236,457,236,454,234,453,234,451,238,451,238,446,240,446,239,442,235,442,231,438,238,435,238,431,233,429,229,426,225,425,221,429,221,425,220,426,219,428,217,429,217,431,216,431,215,431,216,426,212,426,212,424,210,424,208,425,202,426,198,429,197,429,197,424,193,422,190,431,188,433,174,439,169,448,153,467,137,485,128,503,135,512,141,525,141,529,144,533,146,531,149,524,151,526,152,528,154,529,156,526,153,523,154,522,157,520,160,524,163,520,166,524,168,524,170,518,173,520,175,524,178,531,184,527,186,523,187,518,188,518,191,520,191,518,192,517,194,517', hoverText: 'Aurangabad' },
  { name: 'Rohtas',groupId: 'Gaya Zone', x: 920, y: 800, points: '95,425,98,435,98,446,95,451,94,454,89,461,87,467,84,470,83,469,83,479,87,479,90,480,92,485,91,490,83,501,85,508,83,512,83,518,77,523,72,522,67,524,52,522,48,527,66,529,79,529,82,529,85,529,88,529,92,527,114,524,121,517,128,503,137,485,150,470,163,456,169,448,174,439,188,433,190,431,193,422,195,416,189,411,178,411,178,411,174,410,175,407,175,392,171,389,168,389,167,389,167,385,159,386,157,385,157,384,151,383,147,383,145,381,144,384,130,383,131,387,131,386,129,387,132,393,128,399,121,399,113,397,108,395,104,393,101,395,99,397,98,401,102,403,97,407,94,411,96,416,97,422' , hoverText: 'Rohtas'},
  { name: 'Arwal',groupId: 'Gaya Zone', x: 1200, y: 1080, points: '252,408,252,412,252,413,252,420,254,422,256,428,257,428,257,429,256,433,254,433,250,431,244,433,238,433,238,431,233,429,229,426,225,425,221,429,221,425,218,428,217,429,217,431,216,431,215,431,216,426,212,426,212,424,208,425,202,426,197,429,197,424,193,422,195,416,202,411,212,407,217,407,222,403,222,403,229,392,231,390,236,395,229,398,229,401,234,399,237,402,237,399,238,398,246,401,246,403,240,403,237,406,236,407,237,410,242,406,248,407,249,407,254,403,257,404', hoverText: 'Arwal' },
  { name: 'Jehanabad', groupId: 'Gaya Zone',x: 1160, y: 1040, points: '269,433,256,433,257,429,257,428,256,428,254,422,252,420,252,413,252,412,252,408,261,401,261,395,267,394,266,398,269,397,271,393,276,394,276,394,277,390,278,389,281,389,280,394,283,394,281,397,282,398,288,394,289,394,292,394,294,394,296,397,297,393,299,389,306,390,307,392,305,395,308,397,312,397,312,398,305,401,304,403,307,403,306,407,304,410,308,416,306,419,306,420,306,422,303,424,304,425,310,424,312,425,312,425,311,428,312,431,311,433,311,435,310,435,311,435,308,431,305,431,304,433,300,433,300,438,295,444,290,442,288,442,288,438,285,437,283,439,279,439,278,442,277,442,272,444,270,444,269,440,267,439,266,437,269,435,269,433' , hoverText: 'Jehanabad'},
  { name: 'Gaya',groupId: 'Gaya Zone', x: 1080, y: 960, points: '234,535,231,537,229,547,222,545,215,544,215,545,215,549,206,551,208,556,206,564,202,565,200,560,204,559,199,560,198,556,191,559,191,554,190,551,186,549,181,549,178,547,176,544,178,542,175,538,172,538,171,534,174,532,178,531,184,527,186,523,187,518,188,518,191,520,191,518,192,517,194,517,195,525,198,523,202,526,211,524,215,518,213,518,213,516,216,514,218,510,219,501,224,503,224,498,227,496,231,498,233,497,234,494,237,493,238,485,235,484,236,483,239,483,239,479,234,478,231,472,227,470,227,469,224,467,223,466,225,463,227,466,227,466,227,461,233,460,236,457,236,454,234,453,234,451,238,451,238,446,240,446,239,442,235,442,231,438,238,435,238,433,244,433,250,431,254,433,267,433,269,433,269,435,266,437,267,439,269,440,270,444,272,444,277,442,278,442,279,439,283,439,285,437,288,438,288,442,290,442,295,444,300,438,300,433,304,433,305,431,308,431,309,433,311,435,313,433,315,433,317,439,319,439,319,439,320,438,327,437,330,439,333,439,334,439,335,439,335,444,338,442,339,448,338,449,338,451,339,452,339,453,338,454,339,457,337,460,333,461,331,462,332,465,331,466,329,466,326,478,322,479,323,479,322,484,326,484,326,484,327,488,330,488,331,492,330,496,331,497,326,497,329,503,327,505,330,514,330,517,333,518,341,516,341,518,340,520,329,523,325,523,325,525,325,528,320,528,317,532,305,533,309,538,300,542,295,547,292,547,294,536,292,538,290,542,283,542,277,549,266,549,266,546,263,541,264,534,254,536,254,526,254,524,250,525,248,528,242,529,240,533' , hoverText: 'Gaya'},
  { name: 'Nalanda',groupId: 'Gaya Zone', x: 800, y: 680, points: '312,398,305,401,304,403,307,403,306,407,304,410,308,416,306,419,306,420,306,422,303,424,304,425,310,424,311,424,311,428,312,431,311,433,311,435,313,433,315,433,315,433,317,439,319,439,320,438,327,437,330,439,333,439,334,439,335,439,335,444,338,442,339,448,342,446,346,446,357,440,360,439,366,444,367,442,364,439,364,435,373,435,378,429,380,431,380,429,377,424,372,420,371,419,374,419,382,420,382,416,386,412,387,411,386,408,390,407,391,404,385,399,387,394,390,394,392,395,396,395,398,398,400,399,400,403,403,401,405,403,408,403,408,399,412,398,413,399,413,398,418,395,418,389,418,389,416,390,415,393,411,390,404,390,401,387,393,386,389,380,386,379,385,380,384,383,381,383,380,385,380,387,378,387,375,385,377,381,375,377,371,376,368,376,367,369,364,368,360,369,353,367,344,365,340,364,338,368,335,369,334,372,326,374,323,374,318,374,317,372,316,372,315,374,307,374,306,376,308,379,306,390,307,392,305,395,308,397,312,397', hoverText: 'Nalanda' },
  { name: 'Nawada',groupId: 'Gaya Zone', x: 1120, y: 1000, points: '327,474,326,478,323,479,322,484,326,484,327,488,330,488,331,490,330,496,331,497,326,497,329,503,327,505,329,510,330,513,330,517,333,518,336,517,341,516,342,518,347,520,357,518,358,518,359,520,363,520,365,520,365,518,369,516,368,510,370,507,373,510,378,512,383,512,384,510,385,510,385,507,384,501,381,494,388,492,389,485,390,479,391,478,393,476,394,472,396,472,401,475,404,475,407,472,415,472,422,483,430,485,430,483,436,481,437,479,442,478,441,475,434,471,434,467,428,462,425,463,417,462,417,457,415,456,415,453,412,454,407,454,407,449,408,448,411,451,412,449,409,444,407,440,405,442,401,444,400,442,400,439,398,439,396,442,395,440,394,439,396,438,397,438,398,424,397,424,395,422,390,424,388,424,386,422,377,424,380,429,380,431,378,429,373,435,364,435,364,439,367,442,366,444,360,439,346,446,342,446,338,449,338,451,339,452,339,453,338,454,339,457,338,458,337,460,333,461,331,462,332,465,331,466,329,466' , hoverText: 'Nawada'},
  { name: 'Sheikhpura', groupId: 'Gaya Zone',x: 760, y: 640, points: '432,410,430,418,426,419,425,424,428,429,429,435,430,438,430,442,426,444,424,442,425,439,421,439,416,439,409,444,407,440,404,442,403,444,401,444,400,442,400,439,398,439,396,442,394,439,396,438,397,438,398,424,396,422,394,422,390,424,388,424,386,422,377,424,372,420,371,419,375,419,382,420,382,416,387,411,386,408,390,407,391,404,385,399,385,399,387,394,390,394,392,395,396,395,398,398,400,399,400,403,403,401,405,403,408,403,408,399,412,398,413,399,413,398,418,395,421,398,425,403,426,408,434,403,437,406,437,407' , hoverText: 'Sheikhpura'},
 
  {name: 'Madhubani',groupId: 'Koshi Zone', x:600 , y:600 , points:'505,230,498,231,497,230,496,230,496,233,494,235,490,233,490,239,494,240,498,239,499,241,501,241,505,239,511,240,511,242,508,246,503,246,501,246,497,252,493,261,486,261,486,258,479,250,479,248,476,246,478,242,476,239,474,239,473,237,473,237,469,239,468,235,466,235,465,230,462,230,461,230,459,230,457,230,451,228,449,230,446,235,440,233,436,237,434,237,433,233,434,228,434,228,428,224,428,222,429,217,426,214,424,214,424,217,422,217,418,216,415,219,416,221,413,222,409,224,408,222,401,222,401,221,401,214,401,214,401,212,401,211,401,208,400,205,403,205,403,203,403,203,399,203,399,199,397,199,394,201,391,203,393,197,391,197,391,197,392,197,393,196,393,194,389,190,390,190,396,192,400,190,398,188,395,188,391,187,394,182,397,184,401,178,398,176,399,167,404,165,405,167,404,173,405,173,409,170,413,165,419,165,421,159,423,158,428,159,432,156,438,156,443,162,449,162,450,165,457,163,459,169,462,169,466,163,480,163,492,170,505,176,509,176,516,184,524,186,538,193,538,194,537,197,536,203,533,203,526,205,524,211,519,209,514,214,509,215,508,219,505,221,505,224,508,224,507,228', hoverText: 'Madhubani'},
  {name:'Darbhanga',groupId: 'Koshi Zone', x: 370, y: 100, points: '479,250,486,258,487,264,488,270,488,275,491,280,490,282,486,279,483,284,479,292,480,293,484,293,487,293,488,297,488,300,493,300,494,304,493,308,494,309,495,310,493,312,494,316,494,317,491,318,488,313,480,313,476,309,475,309,471,312,469,306,465,306,465,299,467,288,457,288,455,291,455,288,450,286,449,288,446,284,444,286,438,284,436,280,434,279,436,280,429,280,428,282,426,277,425,277,417,277,416,273,413,273,413,273,409,273,405,266,404,266,397,266,393,263,391,264,387,264,387,256,384,256,385,256,386,252,389,249,390,246,390,245,389,244,387,242,387,237,387,237,385,235,383,233,382,230,385,228,383,226,383,226,384,224,384,222,383,217,387,216,388,214,387,212,385,211,383,211,382,212,379,212,378,210,383,210,383,209,381,206,381,201,384,194,389,197,393,197,391,203,394,201,397,199,399,199,399,203,403,203,403,205,403,205,400,205,401,208,401,211,401,212,401,212,401,214,401,214,401,221,401,222,408,222,409,224,413,222,416,221,415,219,418,216,422,217,424,217,424,214,426,214,429,217,429,217,428,222,428,224,434,228,434,228,433,233,434,237,436,237,440,233,446,235,449,230,451,228,458,230,459,230,462,230,465,230,466,235,468,235,469,239,473,237,474,239,476,239,478,242,476,246,479,248', hoverText: 'Darbhanga'},    
  { name: 'Supaul',groupId: 'Koshi Zone', x: 400, y: 280, points: '593,199,592,210,589,210,589,214,593,216,592,219,592,224,595,226,596,231,594,233,599,235,598,244,595,242,595,246,592,248,595,249,600,249,601,251,596,256,596,256,590,255,584,253,581,255,573,252,566,251,561,251,556,248,552,248,550,251,548,251,541,246,538,255,533,261,532,263,527,266,527,264,521,264,515,263,509,269,504,263,507,259,507,258,501,259,501,260,500,255,496,255,501,246,503,246,508,246,511,242,511,240,505,239,501,241,499,241,498,239,494,240,490,239,490,233,494,235,496,233,496,230,497,230,498,231,505,230,507,228,508,224,505,224,505,221,508,219,509,215,514,214,519,209,524,211,526,205,536,203,537,197,538,193,541,194,546,190,552,192,557,192,565,188,565,184,571,184,571,179,575,178,583,176,586,171,590,171,591,171,590,176,590,178,589,179,590,186,592,188,591,192,592,194,593,196,591,197' , hoverText: 'Supaul'},
  { name: 'Saharsa',groupId: 'Koshi Zone', x: 430, y: 150, points:'539,289,550,292,555,288,560,289,564,297,562,299,562,308,561,312,566,313,565,316,563,318,563,322,560,322,556,325,555,329,552,331,550,331,549,329,546,329,544,325,542,325,540,329,537,329,534,333,534,329,531,329,529,331,524,330,523,334,522,334,518,334,507,334,505,327,505,327,501,319,499,321,499,319,495,316,494,316,493,312,495,310,493,308,494,304,493,300,488,300,488,297,487,293,484,293,480,293,479,292,486,279,490,282,491,280,488,275,488,270,487,264,487,261,492,261,493,261,496,255,500,255,501,260,501,259,507,258,507,259,504,263,509,269,513,264,515,263,522,264,527,264,527,266,524,268,525,273,527,273,525,277,529,281,531,281,534,277,536,279,536,282,539,284,539,288', hoverText: 'Saharsa' },
  { name: 'Madhepura',groupId: 'Koshi Zone', x: 360, y: 110 , points:'582,275,585,284,587,284,588,284,590,293,590,297,588,297,586,308,588,315,591,316,593,318,592,322,589,325,592,330,592,335,594,336,594,338,594,347,602,347,602,347,599,352,597,356,594,356,591,357,589,355,586,356,579,356,578,352,573,353,573,356,569,364,567,363,566,356,564,359,564,359,558,359,557,357,559,356,559,353,562,347,562,339,561,336,560,331,555,329,556,325,560,322,563,322,563,317,563,317,565,316,566,313,561,312,561,312,562,308,562,299,564,297,560,289,555,288,550,292,539,289,539,284,536,282,536,279,534,277,531,281,529,281,525,277,527,273,525,273,524,268,532,263,534,260,538,255,541,246,548,251,550,251,552,248,556,248,561,251,566,251,571,252,574,252,581,255,584,253,596,256,596,257,601,258,602,259,601,260,598,261,596,262,596,264,592,266,592,267,595,270,596,272,593,272,593,273,590,275,588,273,586,275', hoverText: 'Madhepura' },
  { name: 'Araria', groupId: 'Koshi Zone',x: 440, y: 320, points: '675,205,684,212,684,217,689,228,687,233,688,235,688,240,688,245,688,246,686,249,681,249,678,253,680,261,675,262,668,266,662,267,659,266,657,269,655,267,647,267,644,273,640,269,631,270,629,273,626,273,626,269,620,273,620,275,617,275,617,273,614,273,612,275,608,275,606,273,600,273,600,271,596,272,595,270,592,267,592,266,596,264,596,262,601,260,602,259,601,258,596,257,596,256,601,251,600,249,595,249,592,248,595,246,595,242,598,244,599,235,594,233,596,231,595,226,592,224,592,219,593,216,589,214,589,210,592,210,593,199,591,197,593,196,591,192,592,188,590,186,589,179,590,178,590,176,591,171,586,171,587,167,592,167,594,179,597,190,605,197,621,194,624,201,631,203,635,205,636,203,636,201,638,196,646,192,657,190,666,192,671,199,673,199,677,197,682,197,683,199,679,203', hoverText: 'Araria' },
  { name: 'Purnia',groupId: 'Koshi Zone', x: 520, y: 400, points: '697,302,690,306,690,315,687,318,683,317,680,318,676,318,670,318,674,321,673,322,671,322,668,319,668,318,664,319,662,321,659,318,649,319,637,318,631,316,627,316,627,313,622,316,626,325,627,325,624,327,625,334,626,340,621,344,620,350,618,350,620,355,623,356,623,357,621,357,617,359,615,361,612,359,609,361,600,361,599,355,602,353,602,347,594,347,594,336,592,335,592,330,589,325,592,322,593,318,591,316,588,315,586,308,588,297,590,297,590,293,588,284,585,284,582,275,586,275,588,273,590,275,593,273,593,272,593,272,596,272,600,271,600,273,606,273,608,275,612,275,614,273,617,273,617,275,620,275,620,273,626,269,626,273,629,273,631,270,640,269,644,273,647,267,655,267,657,269,659,266,662,267,668,266,675,262,680,261,678,253,681,249,686,249,688,246,688,245,693,242,697,246,701,244,702,245,711,245,715,245,716,248,714,252,712,261,712,264,711,266,709,268,709,271,709,273,708,275,710,280,710,282,708,284,709,286,710,288,707,289,710,295,712,299,709,302,709,304,705,304,706,308,704,306,703,306,700,306' , hoverText: 'Purnia'},
  { name: 'Kishanganj',groupId: 'Koshi Zone', x: 480, y: 360, points: '724,246,717,255,714,256,714,260,713,264,713,270,712,273,712,273,708,277,709,273,709,268,711,266,712,263,712,261,713,256,714,252,716,248,715,245,702,245,701,244,697,246,693,242,688,245,688,235,687,233,689,228,684,217,684,211,684,212,675,205,679,203,683,199,682,197,683,193,687,188,697,193,698,193,701,192,701,187,703,184,708,186,710,190,712,188,715,182,719,179,724,190,732,194,738,203,741,199,742,197,750,190,751,182,750,176,751,171,758,176,764,170,768,170,769,165,771,167,771,170,763,178,766,180,770,180,770,184,772,184,774,184,778,190,772,194,772,197,778,196,781,199,782,201,780,205,775,205,770,212,763,215,759,219,759,223,754,224,750,231,741,231,738,237,734,237,732,239,732,240,734,240,734,242,732,244,732,248,727,250' , hoverText: 'Kishanganj'},
  { name: 'Katihar',groupId: 'Koshi Zone', x: 560, y: 440, points: '717,398,712,398,708,395,704,395,700,392,698,392,696,387,694,383,688,383,683,381,680,381,679,376,672,380,669,376,664,374,662,372,657,374,654,372,645,368,643,365,644,364,644,363,641,363,640,364,632,368,630,372,624,370,621,370,621,365,618,365,622,359,621,357,623,357,623,356,620,355,618,350,620,350,621,344,626,340,624,327,627,325,626,325,622,316,627,313,627,316,631,316,637,318,643,318,649,319,659,318,662,321,668,318,668,319,671,322,673,322,674,321,670,318,676,318,680,318,683,317,687,318,690,315,690,306,697,302,700,306,703,306,705,308,706,308,705,304,709,304,709,302,712,299,707,289,710,288,708,284,710,282,712,286,725,286,725,286,722,293,725,293,724,300,729,300,732,306,735,309,740,312,745,313,747,315,747,322,746,327,744,331,746,338,748,342,751,343,752,347,751,349,746,350,741,347,740,347,738,343,734,340,728,343,726,346,722,347,719,350,719,355,714,356,713,359,711,359,708,357,705,361,705,367,708,370,709,377,713,377,719,385,719,389,715,392,717,397' , hoverText: 'Katihar'},

  { name: 'Bhagalpur',groupId: 'Bhagalpur Zone', x: 600, y: 480, points: '609,424,609,422,604,420,596,419,594,420,594,420,589,419,577,420,569,420,566,420,564,418,561,419,559,422,557,420,557,418,549,419,547,416,539,418,538,416,540,412,542,408,546,407,546,406,540,407,531,398,531,397,535,397,544,395,545,394,550,392,553,389,553,381,559,380,564,374,564,372,562,372,561,368,558,367,559,364,558,359,564,359,565,357,566,356,567,363,569,364,573,356,573,353,578,352,579,356,582,356,586,356,589,355,591,357,594,356,597,356,599,352,602,347,602,353,599,355,600,361,607,361,609,361,612,359,615,361,617,359,621,357,622,359,618,365,621,365,621,370,624,370,630,372,632,368,640,364,644,363,644,364,643,365,645,368,654,372,657,374,662,372,664,374,669,376,672,380,670,387,663,383,661,385,664,389,661,394,661,403,651,398,647,395,645,398,638,398,637,407,634,415,633,420,631,420,628,418,618,424,615,425,609,424', hoverText: 'Bhagalpur' },
  { name: 'Banka', groupId: 'Bhagalpur Zone',x: 640, y: 520, points: '520,488,529,494,530,497,530,505,534,510,539,513,547,508,550,508,551,505,552,503,557,501,559,505,561,510,567,512,568,512,571,510,576,514,575,505,579,499,580,497,582,496,588,501,590,501,592,498,593,499,594,503,598,503,599,494,603,481,603,474,605,469,602,467,602,466,605,466,606,461,613,460,614,453,613,451,613,437,610,433,614,431,615,425,609,424,609,422,596,419,594,420,594,420,589,419,579,420,569,420,566,420,564,416,564,418,561,419,559,422,557,420,557,418,549,419,547,416,540,418,540,420,537,422,536,424,534,428,536,435,535,437,535,442,526,444,526,448,518,444,514,440,511,440,509,444,509,453,515,458,516,463,516,469,515,475,511,476,511,479,519,476,520,480,520,483', hoverText: 'Banka' },
  { name: 'Jamui',groupId: 'Bhagalpur Zone', x: 680, y: 560, points: '512,534,514,522,517,517,522,517,522,513,527,512,526,507,530,505,530,497,529,494,520,488,520,480,519,476,511,479,511,476,515,475,516,469,516,463,515,458,509,453,509,444,511,440,512,440,508,438,503,437,501,439,501,438,501,435,501,431,499,429,493,429,493,425,496,422,497,415,488,413,482,420,480,424,472,426,471,431,472,438,471,440,467,440,466,437,457,431,455,431,455,439,453,442,451,446,449,444,449,442,442,444,430,444,430,442,426,444,424,442,425,439,416,439,409,444,412,449,411,451,408,448,407,449,407,454,412,454,415,453,415,456,417,457,417,462,425,463,428,462,434,467,434,471,441,475,442,478,443,478,443,480,440,483,441,483,447,481,453,484,455,493,454,501,455,505,462,510,469,508,470,505,476,510,482,508,484,508,483,514,484,522,480,529,484,534,491,534,501,545,505,545,509,544,509,537,512,536', hoverText: 'Jamui' },
  { name: 'Lakhisarai', groupId: 'Bhagalpur Zone',x: 720, y: 600, points: '457,394,461,394,463,398,471,394,474,390,475,389,476,390,480,389,486,387,487,389,490,394,492,397,493,398,493,399,490,403,488,413,488,413,482,420,480,424,472,426,471,431,472,438,471,440,467,440,466,437,457,431,455,431,455,435,455,439,453,442,451,446,449,444,449,442,442,444,430,444,430,442,430,438,429,435,428,429,425,424,426,419,430,418,432,410,437,407,437,406,434,403,426,408,425,403,418,395,418,389,421,389,422,385,426,386,436,389,438,383,443,381,444,386,446,387,449,387,455,387,455,392', hoverText: 'Lakhisarai' },
  { name: 'Munger',groupId: 'Bhagalpur Zone', x: 780, y: 400, points: '536,424,534,428,536,435,535,437,535,442,526,444,526,448,521,446,518,444,514,440,512,440,508,438,503,437,501,438,501,435,501,431,499,429,494,429,493,429,493,425,496,422,497,415,488,413,490,403,493,399,492,397,490,394,486,387,480,389,476,390,480,384,480,381,484,381,488,377,492,374,492,377,495,374,500,370,503,372,505,372,505,368,511,368,512,368,509,367,509,363,512,361,515,356,516,355,521,355,522,359,525,365,531,369,531,374,528,377,533,381,533,383,530,385,530,387,534,393,543,392,545,394,544,395,534,397,531,397,531,398,540,407,546,406,546,407,542,408,538,416,539,418,540,418,540,420,538,422' , hoverText: 'Munger'},
 { name: 'Khagaria',groupId: 'Bhagalpur Zone', x: 1240, y: 1120, points: '521,355,516,355,512,361,509,363,509,367,507,365,501,363,497,355,493,352,491,356,486,357,486,356,487,355,484,355,484,356,483,355,483,352,476,347,475,344,476,340,475,336,476,331,474,330,476,327,480,327,484,322,490,318,495,316,499,321,501,319,501,321,505,327,507,334,511,334,513,334,518,334,523,334,524,330,529,331,531,329,534,329,534,333,535,331,537,329,540,329,542,325,544,325,546,329,549,329,550,331,552,331,555,329,560,331,561,336,562,339,562,343,562,347,559,353,559,356,557,357,559,364,558,367,561,368,562,372,564,372,564,374,559,380,553,381,553,389,550,392,545,394,543,392,534,393,530,387,530,385,533,383,533,381,528,377,531,374,531,369,525,365,522,359', hoverText: 'Khagaria' },
  { name: 'Begusarai',groupId: 'Bhagalpur Zone', x: 1280, y: 1160, points: '511,368,505,368,505,372,503,372,500,370,495,374,493,376,492,377,492,374,488,379,484,381,480,381,480,384,476,390,476,390,475,389,471,394,463,398,461,394,457,394,455,387,446,387,444,386,443,381,440,374,437,374,438,377,434,379,428,372,424,369,419,368,416,368,413,368,412,361,416,361,415,356,413,355,413,356,409,353,401,349,401,347,392,349,392,346,395,343,396,340,399,340,404,343,409,343,407,336,404,335,407,331,409,331,411,327,413,327,412,331,418,331,419,329,423,329,428,335,432,336,433,331,434,329,434,327,430,327,430,324,434,322,434,321,432,319,432,318,434,316,438,318,438,315,443,316,444,316,444,313,446,313,451,315,451,313,447,310,446,309,449,308,454,309,455,315,454,316,454,318,455,318,457,317,459,318,461,327,468,329,470,329,474,330,476,331,475,336,476,340,475,344,476,347,483,352,483,355,484,356,484,355,487,355,486,356,487,357,491,356,493,352,497,355,501,363,507,365,512,368' , hoverText: 'Begusarai'},
 
];

const calculateCentroid = (points) => {
  const pointsArray = points.split(',').map(Number);
  let x = 0, y = 0;
  let area = 0;

  for (let i = 0; i < pointsArray.length; i += 2) {
    const x1 = pointsArray[i];
    const y1 = pointsArray[i + 1];
    const x2 = pointsArray[(i + 2) % pointsArray.length];
    const y2 = pointsArray[(i + 3) % pointsArray.length];
    const crossProduct = x1 * y2 - x2 * y1;

    x += (x1 + x2) * crossProduct;
    y += (y1 + y2) * crossProduct;
    area += crossProduct;
  }

  area *= 0.5;
  x /= (6 * area);
  y /= (6 * area);

  return [x, y];
};

const BiharMap = () => {
  const [hoveredDistrict, setHoveredDistrict] = useState('');
  const [hoveredCoords, setHoveredCoords] = useState({ x: 0, y: 0 });
  const [selectedDistricts, setSelectedDistricts] = useState([]);

  const handleMouseEnter = (hoverText, hoverName, groupId, cx, cy) => {
    setHoveredDistrict(`${groupId}\n(${hoverText})`);
    setHoveredCoords({ x: cx, y: cy });

    const districtsInGroup = districts.filter(district => district.groupId === groupId);
    setSelectedDistricts(districtsInGroup.map(district => district.name));
  };

  const handleMouseLeave = () => {
    setHoveredDistrict('');
    setSelectedDistricts([]);
  };

  // const handleDistrictClick = (name) => {
  //   const district = districts.find(district => district.name === name);
  //   setSelectedDistricts([district.name]);
    
  // };

  return (
    <div className="mapBox">
    <div className="map-container">
      <svg viewBox="0 0 800 600">
        {districts.map((district, index) => {
          const [cx, cy] = calculateCentroid(district.points);
          const isSelected = selectedDistricts.includes(district.name);
          const isDimmed = selectedDistricts.length > 0 && !isSelected;

          return (
            <g
              key={index}
              onMouseEnter={() => handleMouseEnter(district.hoverText, district.name, district.groupId, cx, cy)}
              onMouseLeave={handleMouseLeave}
              onClick={() => handleDistrictClick(district.name)}
              style={{ opacity: isDimmed ? 0.25 : 1 }}
            >
              <polygon
                points={district.points}          
                className={
                  district.groupId === 'Muzaffarpur Zone'
                    ? 'muzZone'
                    : district.groupId === 'Patna Zone'
                    ? 'patnaZone'
                    : district.groupId === 'Koshi Zone'
                    ? 'koshiZone'
                    : district.groupId === 'Gaya Zone'
                    ? 'gayaZone'
                    : district.groupId === 'Bhagalpur Zone'
                    ? 'bhagalpurZone'
                    : ''
                }
              />
              <text
                x={cx}
                y={cy}
                className="district-text"
              >
                {district.name}
              </text>
            </g>
          );
        })}
        {hoveredDistrict && (
          <HoverText 
            x={hoveredCoords.x} 
            y={hoveredCoords.y} 
            text={hoveredDistrict} 
          />
        )}
      </svg>
      
    </div>
    <div className="secondPart">
        <h1 style={{textAlign:'center'}}>Our Transmission Network</h1>
        <ul className="list-column">
          <li>
            <img src={image1} alt="" />
            <span>Transmission Line</span>
            <span>17552 ckt km</span>
            
          </li>
          <li>
            <img src={image2} alt="" />
            <span>Optical Fiber</span>
            <span>xx km</span>
          </li>
          <li>
            <img src={image3} alt="" />
            <span>Grid Sub-Stations</span>
            <span>155 no.</span>
          </li>
          <li>
            <img src={image4} alt="" />
            <span>Transformation Capacity</span>
            <span>16210 MVA</span>
          </li>
          <li>
            <img src={image5} alt="" />
            <span>System Availability</span>
            <span>99%</span>
          </li>
        </ul>
      </div>
    </div>
  );
};

const HoverText = ({ x, y, text }) => {
  const [textDimensions, setTextDimensions] = useState({ width: 0, height: 0 });

  const textRef = React.useCallback((node) => {
    if (node !== null) {
      const bbox = node.getBBox();
      setTextDimensions({ width: bbox.width, height: bbox.height });
    }
  }, [text]);

  return (
    <g className="hover-group">
      <rect
        x={x - textDimensions.width / 2 - 5}
        y={y - textDimensions.height / 2 - 5}
        width={textDimensions.width + 10}
        height={textDimensions.height + 10}
        className="hover-background"
      />
      <text
        x={x}
        y={y}
        className="hover-text1"
        ref={textRef}
      >
        {text}
      </text>
    </g>
  );
};

export default BiharMap;